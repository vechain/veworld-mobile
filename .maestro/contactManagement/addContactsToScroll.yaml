# Adds many contacts and scrolls to view all of them
appId: org.vechain.veworld.app
env:
    CONTACT_NAME_1: "My Contact 1"
    CONTACT_ADDRESS_1: "0x92f134af61a34ff83d0cf806cfc43b49dee7b1fb"
---
- launchApp:
      clearState: true

# Welcome screen - tap DEV:DEMO
- tapOn:
      id: "dev_demo"

# Dismiss push notification bottom sheet if visible
- runFlow:
      when:
          visible:
              id: "button_notifications_enable"
      commands:
          - tapOn:
                id: "button_notifications_skip"

# Navigate to Settings -> My Contacts
- tapOn:
      id: "settings-tab"
- scrollUntilVisible:
      element:
          id: "My Contacts"
      direction: DOWN
      timeout: 20000
- tapOn:
      id: "My Contacts"
- extendedWaitUntil:
      visible:
          id: "ContactsScreen"
      timeout: 10000

# Create the first contact
- tapOn:
      id: "Add_Contact_Button"
- extendedWaitUntil:
      visible:
          id: "Add_Contact_Screen"
      timeout: 10000
- tapOn:
      id: "Contact-Name-Input"
- inputText: ${CONTACT_NAME_1}
- tapOn:
      id: "Contact-Address-Input"
- inputText: ${CONTACT_ADDRESS_1}
- hideKeyboard
- tapOn:
      id: "Add_Contact_Button"
- extendedWaitUntil:
      visible:
          id: "ContactsScreen"
      timeout: 10000
- assertVisible:
      id: "Add_Contact_Button"

# Run multipleContacts subflow to add more contacts
- runFlow: multipleContacts.yaml

# Scroll down to view the last contact (contact-row-9)
- scrollUntilVisible:
      element:
          id: "contact-row-9"
      direction: DOWN
      timeout: 30000

